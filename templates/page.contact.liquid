{% render 'page-header', title: page.title, mannaz: 'small' %}
<section class="shopify-section has-background-white">
  {% if page.content %}
    <div class="container">
      {{ page.content }}
    </div>
  {% endif %}
  <div class="container">
    {% form 'contact' %}
      {% if form.posted_successfully? %} Thank you for your contact {% endif %}
      {{ form.errors | default_errors }}

      <div class="field">
        <input class="input" type="text" id="ContactFormName" name="contact[name]" required>
        <label class="label" for="ContactFormName">Name</label>
      </div>

      <div class="field">
        <input class="input" type="email" id="ContactFormEmail" name="contact[email]" required>
        <label class="label" for="ContactFormEmail">Email</label>
      </div>

      <div class="field">
        <input class="input" type="tel" id="ContactFormPhone" name="contact[phone]">
        <label class="label" for="ContactFormPhone">Phone Number</label>
      </div>

      <div class="field">
        <textarea class="textarea" rows="10" id="ContactFormMessage" name="contact[body]" required></textarea>
        <label class="label" for="ContactFormMessage">Message</label>
      </div>

      <button type="submit" class="button success fullwidth">Send</button>
      
    {% endform %}
  </div>
</section>

<script>
  (function() {
    var required = document.querySelectorAll('input, textarea');
    function handleFocus(event) {
      event.currentTarget.dataset.touched = 'true';
      field.removeEventListener('focus', handleFocus);
    }
    function handleBlur(event) {
      var input = event.currentTarget;
      if(input.value) {
        input.dataset.hasValue = 'true';
      } else {
        delete input.dataset.hasValue;
      }
    }
    required.forEach(function(field) {
      field.addEventListener('focus', handleFocus);
      field.addEventListener('blur', handleBlur);
    });
  })()
</script>
